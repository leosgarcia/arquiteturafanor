<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/templates/template.xhtml">
	<ui:define name="content">

		<h:form id="formRodadas">

			<p:growl id="msgs" showDetail="true" />

			<p:panelGrid styleClass="panelgrid" columns="2">

				<p:outputLabel value="Selecionar Número da Rodada" />
				<p:selectOneMenu label="Rodada" value="#{palpites.palpite.jogo.id}">
					<f:selectItem itemValue="#{null}" itemLabel="" />
					<f:selectItems value="#{palpites.jogos}" var="j"
						itemLabel="#{j.clubesCasaId.nome} VS #{j.clubesVisitanteId.nome}"
						itemValue="#{j.id}" />
				</p:selectOneMenu>

			</p:panelGrid>


			<p:panelGrid styleClass="panelgrid" columns="2">

				<p:commandButton value="Buscar Jogos da Rodada"
					action="#{palpites.adicionaNovoPalpite}" update="@form"
					process="@form" />

			</p:panelGrid>

			<p:separator></p:separator>

			<p:dataTable id="cars1" var="p" value="#{palpites.palpitesDoUsuario}"
				rows="10" resizableColumns="true" style="margin-bottom:20px">

				<f:facet name="header">Rodada Número: </f:facet>

				<p:column headerText="Equipe Casa">
					<h4 align="center">#{p.jogo.clubesCasaId.nome}</h4>
				</p:column>

				<p:column headerText="Versus">
					<h4 align="center">x</h4>
				</p:column>

				<p:column headerText="Equipe Visitante">
					<h4 align="center">#{p.jogo.clubesVisitanteId.nome}</h4>
				</p:column>


			</p:dataTable>

			<p:panelGrid styleClass="panelgrid" columns="2">

				<p:commandButton value="Gravar todas as apostas"
					action="#{palpites.gravarPalpites}" update="@form"
					rendered="#{not empty palpites.palpitesDoUsuario}" />

			</p:panelGrid>

		</h:form>

	</ui:define>


</ui:composition>
